{"version":3,"file":"main-ef7d455c.bf4e94fa627d99811fbc.min.js","mappings":"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","sources":["webpack://fabric/webpack/universalModuleDefinition","webpack://fabric/webpack/runtime/chunk loaded","webpack://fabric/./src/scroll/index.ts","webpack://fabric/./src/tools/color.ts","webpack://fabric/./src/tools/color-plate.ts","webpack://fabric/./src/tools/eraser.ts","webpack://fabric/./src/tools/index.ts","webpack://fabric/./src/tools/mover.ts","webpack://fabric/./src/tools/pen.ts","webpack://fabric/webpack/bootstrap","webpack://fabric/webpack/runtime/define property getters","webpack://fabric/webpack/runtime/global","webpack://fabric/webpack/runtime/hasOwnProperty shorthand","webpack://fabric/webpack/runtime/jsonp chunk loading","webpack://fabric/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fabric\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fabric\"] = factory();\n\telse\n\t\troot[\"fabric\"] = factory();\n})(self, () => {\nreturn ","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","export var supportsPassive = false;\nexport var wheelOpt = supportsPassive ? { passive: false } : false;\nexport var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\n\nexport function preventDefault(e) {\n  e.preventDefault();\n}\n\nexport function preventDefaultForScrollKeys(e) {\n  var scroll_prevention_keys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n  if (scroll_prevention_keys[e.keyCode]) {\n    preventDefault(e);\n    return false;\n  }\n}\n\nexport function checkPassive() {\n  try {\n    window.addEventListener(\n      'test',\n      null,\n      Object.defineProperty({}, 'passive', {\n        get: function () {\n          supportsPassive = true;\n        }\n      })\n    );\n  } catch (e) {}\n  wheelOpt = supportsPassive ? { passive: false } : false;\n}\n\nexport function disableScroll() {\n  window.addEventListener('DOMMouseScroll', preventDefault, false); // older FF\n  window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop\n  window.addEventListener('touchmove', preventDefault, wheelOpt); // mobile\n  window.addEventListener('keydown', preventDefaultForScrollKeys, false);\n}\n\nexport function enableScroll() {\n  window.removeEventListener('DOMMouseScroll', preventDefault, false);\n  window.removeEventListener(wheelEvent, preventDefault, wheelOpt);\n  window.removeEventListener('touchmove', preventDefault, wheelOpt);\n  window.removeEventListener('keydown', preventDefaultForScrollKeys, false);\n}\n","import { pen_color_id } from './index.ts';\nimport { localforage } from '../index.ts';\n\nvar { v4: uuidv4 } = require('uuid');\n\nexport function setFabricColor(r1: number, g1: number, b1: number, r2: number, g2: number, b2: number, time: number, id: string) {\n  function c(n) {\n    return Math.max(Math.min(255, Math.floor(n)), 0);\n  }\n  if (typeof r1 === 'number' && typeof g1 === 'number' && typeof b1 === 'number' && typeof r2 === 'number' && typeof g2 === 'number' && typeof b2 === 'number') {\n    r1 = c(r1);\n    g1 = c(g1);\n    b1 = c(b1);\n    r2 = c(r2);\n    g2 = c(g2);\n    b2 = c(b2);\n    id = id || 'fc-' + uuidv4();\n    var time = time || new Date().getTime();\n    var colorObj = {\n      id: id,\n      light: { type: 'rgb', r: r1, g: g1, b: b1 },\n      dark: { type: 'rgb', r: r2, g: g2, b: b2 },\n      time: time,\n      type: 'FabricColor'\n    };\n    localforage.setItem(id, JSON.stringify(colorObj));\n    return colorObj;\n  }\n}\n\nexport function deleteFabricColor(id: string) {\n  localforage.removeItem(id);\n}\n\nexport function initializeFabricColors() {\n  setFabricColor(51, 51, 51, 255, 255, 255, 0, 'fc-default-black-white');\n  setFabricColor(255, 54, 54, 255, 79, 79, 0, 'fc-default-red');\n  setFabricColor(255, 212, 18, 255, 220, 64, 0, 'fc-default-yellow');\n  setFabricColor(24, 163, 105, 47, 189, 130, 0, 'fc-default-green');\n  setFabricColor(26, 139, 237, 42, 150, 245, 0, 'fc-default-blue');\n  setFabricColor(99, 79, 232, 108, 91, 222, 0, 'fc-default-purple');\n}\n\nexport async function listFabricColors(): Promise<any[]> {\n  try {\n    var keys = await localforage.keys();\n    var list: any[] = [];\n    keys = keys.filter((k) => String(k).indexOf('fc-') > -1);\n    for (var key of keys) {\n      var value = await localforage.getItem(key);\n      list.push(JSON.parse(String(value)));\n    }\n    list.sort((a, b) => a.time - b.time);\n    return list;\n  } catch (err) {\n    console.log(err);\n    return [];\n  }\n}\n\nexport function setPenColor(id) {\n  pen_color_id = `fc-${id}`;\n}\n\nexport function updateFabricColorStyleTag() {\n  listFabricColors().then(function (list) {\n    var light = [];\n    var dark = [];\n    list.forEach((color) => {\n      light.push(colorToCSS(color, 'light'));\n      dark.push(colorToCSS(color, 'dark'));\n    });\n    document.querySelector('head style#fabric_color').innerHTML = `:root {${light.join('')}}@media (prefers-color-scheme: dark) {${dark.join('')}}`;\n  });\n}\n\nexport function colorToHex(color: any): string {\n  function componentToHex(c: number): string {\n    var hex = c.toString(16);\n    return String(hex.length == 1 ? '0' + hex : hex).toUpperCase();\n  }\n  return {\n    id: color.id,\n    light: { type: 'hex', hex: `#${componentToHex(color.light.r)}${componentToHex(color.light.g)}${componentToHex(color.light.b)}` },\n    dark: { type: 'hex', hex: `#${componentToHex(color.dark.r)}${componentToHex(color.dark.g)}${componentToHex(color.dark.b)}` }\n  };\n}\n\nexport function colorToCSS(color: any): string {\n  var hex = colorToHex(color);\n  return {\n    declaration: {\n      light: `--${color.id}: ${hex.light.hex};`,\n      dark: `--${color.id}: ${hex.dark.hex};`\n    },\n    application: `var(--${color.id})`\n  };\n}\n","import { listFabricColors, colorToHex } from './color.ts';\nvar { v4: uuidv4 } = require('uuid');\n\nexport function fc_animation(index, time, delay, m, selector, initial, quantity, df) {\n  if (m === 0) {\n    var opacity = 0;\n    var scale = 0.66;\n    var direction = 'normal';\n  }\n  if (m === 1) {\n    var opacity = 1;\n    var scale = 1;\n    var direction = 'reverse';\n  }\n  return `.tools_container .${selector} button:nth-child(${quantity - index + 1}){transform:scale(${scale});opacity:${opacity};animation-duration: ${time}ms;animation-name: scale;animation-timing-function: ease-out;animation-fill-mode: forwards;animation-delay: ${initial + (index - 1) * delay}ms;animation-direction: ${direction};}`;\n}\n\nexport function fc_s1(index, m, selector, quantity, df) {\n  if (m === 1) {\n    var opacity = 0;\n    var scale = 0.66;\n    var direction = 'normal';\n  }\n  if (m === 0) {\n    var opacity = 1;\n    var scale = 1;\n    var direction = 'reverse';\n  }\n  return `.tools_container .${selector} button:nth-child(${quantity - index + 1}){transform:scale(${scale});opacity: ${opacity};}`;\n}\n\nexport function loadColorPlate() {\n  function getHTML(colorObj) {\n    var hex = colorToHex(colorObj);\n    return `<button id=\"${colorObj.id}\"><div class=\"fabric_color\"><div class=\"fabric_color_c\"><div class=\"fabric_color_light\" style=\"--fc-color:${hex.light.hex}\"></div><div class=\"fabric_color_dark\" style=\"--fc-color:${hex.dark.hex}\"></div></div></div></button>`;\n  }\n  var html = [];\n  for (var i = 0; i < 7; i++) {\n    html.push(getHTML({ id: 'skeleton-screen-' + uuidv4(), light: { type: 'rgb', r: 242, g: 242, b: 242 }, dark: { type: 'rgb', r: 46, g: 46, b: 46 } }));\n  }\n  document.querySelector('.fabric_color_plate').innerHTML = html.join('');\n  /*\n  listFabricColors().then(function (list) {\n    html = [];\n    list.forEach(function (item) {\n      html.push(getHTML(item));\n    });\n    document.querySelector('.fabric_color_plate').innerHTML = html.join('');\n  });\n  */\n}\n\nexport function openColorPlate() {\n  var quantity = 6;\n  var time = 180;\n  var delay = 45;\n\n  loadColorPlate();\n\n  var css = [];\n  for (var i = quantity; i > 0; i--) {\n    css.push(fc_animation(i, time, delay, 1, 'tools_button', 0, quantity, ''));\n  }\n  document.querySelector('#fabric-color-plate-animation').innerHTML = css.join('');\n\n  var fcp = document.querySelector('.fabric_color_plate');\n  fcp.style.display = 'block';\n\n  css = [];\n  for (var i = quantity; i > 0; i--) {\n    css.push(fc_animation(i, time, delay, 0, 'fabric_color_plate', (delay * quantity + time) / 2, quantity));\n  }\n  document.querySelector('#fabric-color-plate-animation').innerHTML += css.join('');\n  css = [];\n  for (var i = quantity; i > 0; i--) {\n    css.push(fc_animation(i, time, delay, 0, 'fabric_color_plate_close', 0, quantity, ''));\n  }\n  document.querySelector('#fabric-color-plate-animation').innerHTML += css.join('');\n  var fcpc = document.querySelector('.fabric_color_plate_close');\n  fcpc.style.display = 'grid';\n\n  document.querySelectorAll('.fabric_color_plate button')[0].addEventListener(\n    'animationend',\n    function () {\n      css = [];\n      for (var i = quantity; i > 0; i--) {\n        css.push(fc_s1(i, 1, 'tools_button', quantity, ''));\n      }\n      document.querySelector('#fabric-color-plate-animation').innerHTML = css.join('');\n\n      css = [];\n      for (var i = quantity; i > 0; i--) {\n        css.push(fc_s1(i, 0, 'fabric_color_plate', quantity, '.fabric_color'));\n      }\n      document.querySelector('#fabric-color-plate-animation').innerHTML += css.join('');\n    },\n    { once: true }\n  );\n}\n\nexport function closeColorPlate() {\n  var quantity = 6;\n  var time = 180;\n  var delay = 45;\n\n  var css = [];\n  for (var i = quantity; i > 0; i--) {\n    css.push(fc_animation(i, time, delay, 0, 'tools_button', (delay * quantity + time) / 2, quantity, ''));\n  }\n  document.querySelector('#fabric-color-plate-animation').innerHTML = css.join('');\n  css = [];\n  for (var i = quantity; i > 0; i--) {\n    css.push(fc_animation(i, time, delay, 1, 'fabric_color_plate', 0, quantity, '.fabric_color'));\n  }\n  document.querySelector('#fabric-color-plate-animation').innerHTML += css.join('');\n  document.querySelector('#fabric-color-plate-animation').innerHTML += fc_animation(1, time, delay, 1, 'fabric_color_plate_close', 0, 1, '');\n  document.querySelectorAll('.tools_button button')[0].addEventListener(\n    'animationend',\n    function () {\n      var fcp = document.querySelector('.fabric_color_plate');\n      fcp.style.display = 'none';\n      var fcpc = document.querySelector('.fabric_color_plate_close');\n      fcpc.style.display = 'none';\n      document.querySelector('#fabric-color-plate-animation').innerHTML = '';\n    },\n    { once: true }\n  );\n}\n","import { log_changes } from '../fabric/history.ts';\nimport { canvas, ctx, scale, registration } from '../fabric/index.ts';\nimport { mode, mover, move_start_x, move_start_y, move_end_x, move_end_y, move_offset_x, move_offset_y, offsetX, offsetY, touchData, touchData_a, touchData_b, start_timestamp, touch_point_identifier, pen_width_base, force_weight, speed_weight, pen_color, tole, currentPath, eraser_selected_element, eraser_hidden_element, eraser_d, eraser_color, setToolMode } from './index.ts';\n\nexport function handleTouchStart_eraser(event) {\n  eraser_selected_element = {};\n}\n\nexport function handleTouchMove_eraser(event) {\n  var touch = event.touches[0];\n  var current = {\n    x: touch.clientX - offsetX - move_offset_x,\n    y: touch.clientY - offsetY - move_offset_y\n  };\n\n  function searchGroup(x, y) {\n    var filterd_a = [];\n    var result = {};\n    for (var r in registration) {\n      var g = registration[r];\n      if (!g) {\n        continue;\n      }\n      if (g.hidden === true) {\n        continue;\n      }\n      if (g.x1 - 5 - eraser_d <= x && x <= g.x2 + 5 + eraser_d && g.y1 - 5 - eraser_d <= y && y <= g.y2 + 5 + eraser_d) {\n        filterd_a.push(g);\n      }\n    }\n    var filterd_a_len = filterd_a.length;\n    for (var i = 0; i < filterd_a_len; i++) {\n      var w = filterd_a[i];\n      var z = w.points.sort(function (a, b) {\n        return Math.sqrt(Math.pow(a.x - x, 2) + Math.pow(a.y - y, 2)) - Math.sqrt(Math.pow(b.x - x, 2) + Math.pow(b.y - y, 2));\n      });\n      if (Math.sqrt(Math.pow(z[0].x - x, 2) + Math.pow(z[0].y - y, 2)) < 10 + eraser_d) {\n        result[w.id] = true;\n        continue;\n      }\n    }\n    return result;\n  }\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  ctx.lineWidth = 1.2 * scale;\n  ctx.strokeStyle = eraser_color;\n\n  ctx.beginPath();\n  ctx.arc((current.x + offsetX + move_offset_x) * scale, (current.y + offsetY + move_offset_y) * scale, (eraser_d + 5) * scale, 0, 2 * Math.PI);\n  ctx.stroke();\n\n  eraser_selected_element = Object.assign(eraser_selected_element, searchGroup(current.x, current.y));\n  for (var k in eraser_selected_element) {\n    document.querySelector('svg#vector_fabric g#' + k).setAttributeNS(null, 'opacity', '0.25');\n  }\n}\n\nexport function handleTouchEnd_eraser(event) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  var hidden_element_identifier = [];\n  for (var k in eraser_selected_element) {\n    var target = document.querySelector('svg#vector_fabric g#' + k);\n\n    document.querySelector('svg#vector_fabric g#hidden_pen').appendChild(target);\n    target.removeAttributeNS(null, 'opacity');\n    //target.remove()\n    registration[k].hidden = true;\n    hidden_element_identifier.push(k);\n  }\n  log_changes([], hidden_element_identifier);\n}\n","export var mode: number = 0;\n\nexport var mover: boolean = false;\nexport var move_start_x: number = 0;\nexport var move_start_y: number = 0;\nexport var move_end_x: number = 0;\nexport var move_end_y: number = 0;\nexport var move_offset_x: number = 0;\nexport var move_offset_y: number = 0;\nexport var offsetX: number = 0;\nexport var offsetY: number = 0;\n\nexport var touchData: Array = [];\nexport var touchData_a: Array = [];\nexport var touchData_b: Array = [];\nexport var start_timestamp: number = 0;\nexport var touch_point_identifier: number = 0;\n\nexport var pen_width_base: number = 4;\nexport var force_weight: number = 0;\nexport var speed_weight: number = -0.7;\nexport var pen_color: string = '#000000';\nexport var pen_color_id: string = 'fc-default-black-white';\nexport var tole: number = Math.min(Math.log(pen_width_base) / Math.log(Math.pow(10, 0.88)), 0.7);\n\nexport var currentPath: object = { a: '', b: '', c: '' };\nexport var eraser_selected_element: object = {};\nexport var eraser_hidden_element: object = {};\nexport var eraser_d = 15;\nexport var eraser_color = '#888888';\n\nexport function setToolMode(m) {\n  mode = m;\n  function getSelector(m) {\n    return document.querySelector(`.tools_container button[m=\"${m}\"] span`);\n  }\n  for (var i = 0; i < 3; i++) {\n    getSelector(i).classList.remove('filled');\n  }\n  getSelector(m).classList.add('filled');\n}\n","import { eraser_selected_element, eraser_hidden_element, eraser_d, move_start_x, move_start_y, move_end_x, move_end_y, move_offset_x, move_offset_y, offsetX, offsetY } from './index.ts';\nimport { svg_canvas_pen_layer } from '../fabric/index.ts';\nexport function handleTouchStart_mover(event) {\n  var touch = event.touches[0];\n  var current = {\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY\n  };\n  move_start_x = current.x;\n  move_start_y = current.y;\n}\n\nexport function handleTouchMove_mover(event) {\n  var touch = event.touches[0];\n  var current = {\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY\n  };\n  move_end_x = current.x;\n  move_end_y = current.y;\n  svg_canvas_pen_layer.setAttribute('transform', `translate(${move_offset_x + move_end_x - move_start_x} ${move_offset_y + move_end_y - move_start_y})`);\n}\n\nexport function handleTouchEnd_mover(event) {\n  move_offset_x += move_end_x - move_start_x;\n  move_offset_y += move_end_y - move_start_y;\n  svg_canvas_pen_layer.setAttribute('transform', `translate(${move_offset_x} ${move_offset_y})`);\n}\n","import { getCoordinateOnCircleBorder } from '../graph/coordinate.ts';\nimport { segmentsToPath, simplifyPath, pathCommandToCoordinates } from '../graph/path.ts';\nimport { newGroupOnSVG, drawPathOnSVG, drawCircleOnSVG } from '../fabric/svg.ts';\nimport { log_changes } from '../fabric/history.ts';\nimport { registerElement, updatePenPath, canvas, ctx, scale } from '../fabric/index.ts';\nimport { mode, mover, move_start_x, move_start_y, move_end_x, move_end_y, move_offset_x, move_offset_y, offsetX, offsetY, touchData, touchData_a, touchData_b, start_timestamp, touch_point_identifier, pen_width_base, force_weight, speed_weight, pen_color, tole, currentPath, eraser_selected_element, eraser_hidden_element, eraser_d, eraser_color, setToolMode } from './index.ts';\nimport { drawPath } from '../fabric/canvas.ts';\n\nexport function handleTouchStart_pen(event) {\n  var touch = event.touches[0];\n  touchData = []; // Clear previous touch data\n  touchData_a = [];\n  touchData_b = [];\n  touch_point_identifier = touch.identifier;\n\n  if (touch.force) {\n    force_weight = 0.5;\n    speed_weight = -0.2;\n  } else {\n    force_weight = 0.1;\n    speed_weight = 0.2;\n  }\n  //ctx.clearRect(0, 0, window.innerWidth * scale, window.innerHeight * scale);\n\n  touchData.push({\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY,\n    force: touch.force || 0, // Get force (if available, otherwise default to 0)\n    time_stamp: new Date().getTime(),\n    angle: 0\n    // Get timestamp\n  });\n\n  touchData_a.push({\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY\n  });\n  touchData_b.push({\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY\n  });\n  var current = touchData[touchData.length - 1];\n  ctx.beginPath();\n\n  // Draw a circle\n  ctx.arc(current.x * scale, current.y * scale, pen_width_base * 0.5 * scale, 0, 2 * Math.PI);\n  ctx.fillStyle = pen_color;\n  // Fill the circle with color\n  ctx.fill();\n  // Finish drawing\n  ctx.closePath();\n}\n\n//export function to handle touch move event\nexport function handleTouchMove_pen(event) {\n  var touches = [];\n  for (var t in event.touches) {\n    if (event.touches.hasOwnProperty(t) && typeof event.touches[t] === 'object') {\n      touches.push(event.touches[t]);\n    }\n  }\n\n  var touch = touches.filter((p) => p.identifier === touch_point_identifier)[0];\n  if (touch) {\n    var current = touchData[touchData.length - 1] || {\n      x: touch.clientX - offsetX,\n      y: touch.clientY - offsetY,\n      force: touch.force || 0, // Get force (if available, otherwise default to 0)\n      time_stamp: new Date().getTime(),\n      angle: 0\n    };\n    var prev = touchData[touchData.length - 2] || current;\n    var x1 = prev.x;\n    var y1 = prev.y;\n    var x2 = current.x;\n    var y2 = current.y;\n    var angleRadians;\n    if (x2 - x1 === 0) {\n      // Handle vertical line (x-coordinates are the same)\n      if (y2 > y1) {\n        angleRadians = Math.PI / 2; // 90 degrees or π/2 radians\n      } else if (y2 < y1) {\n        angleRadians = -Math.PI / 2;\n        //angleRadians = Math.PI*(3/2);\n        // -90 degrees or -π/2 radians\n      } else {\n        angleRadians = 0; // Points are the same (angle is 0 radians)\n      }\n    } else {\n      // Non-vertical line\n      angleRadians = Math.atan2(y2 - y1, x2 - x1);\n    }\n\n    touchData.push({\n      x: touch.clientX - offsetX,\n      y: touch.clientY - offsetY,\n      force: touch.force || 0, // Get force (if available, otherwise default to 0)\n      time_stamp: new Date().getTime(),\n      angle: angleRadians\n    });\n\n    var speed = Math.sqrt(Math.pow(current.x - prev.x, 2) + Math.pow(current.y - prev.y, 2)) / (current.time_stamp - prev.time_stamp);\n    var radius = Math.min(Math.max(pen_width_base * Math.pow(current.force, 0.4) * (force_weight / (force_weight + speed_weight)) * 0.5 + pen_width_base * Math.max(0.3, Math.log(speed) / Math.log(1.8)) * (speed_weight / (force_weight + speed_weight)) * 0.5, 0), pen_width_base * 0.7) || 0;\n    var c1 = getCoordinateOnCircleBorder(touch.clientX - offsetX, touch.clientY - offsetY, radius, angleRadians - Math.PI / 2);\n    var c2 = getCoordinateOnCircleBorder(touch.clientX - offsetX, touch.clientY - offsetY, radius, angleRadians + Math.PI / 2);\n\n    touchData_a.push({\n      x: c1.x,\n      y: c1.y\n    });\n    touchData_b.push({\n      x: c2.x,\n      y: c2.y\n    });\n    if (touchData.length >= 2) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawPath(ctx, segmentsToPath(touchData, scale), pen_color);\n      drawPath(ctx, segmentsToPath(simplifyPath(touchData_a, tole), scale), pen_color);\n      drawPath(ctx, segmentsToPath(simplifyPath(touchData_b, tole), scale), pen_color);\n    }\n    updatePenPath();\n  }\n}\n\nexport function handleTouchEnd_pen(event) {\n  var touches = [];\n  for (var t in event.changedTouches) {\n    if (event.changedTouches.hasOwnProperty(t) && typeof event.changedTouches[t] === 'object') {\n      touches.push(event.changedTouches[t]);\n    }\n  }\n\n  var touch = touches.filter((p) => p.identifier === touch_point_identifier)[0];\n  if (touch) {\n    if (touchData.length >= 2) {\n      var prev = touchData[touchData.length - 1];\n      touchData.push({\n        x: touch.clientX - offsetX,\n        y: touch.clientY - offsetY,\n        force: touch.force || 0, // Get force (if available, otherwise default to 0)\n        time_stamp: new Date().getTime(),\n        angle: touchData[touchData.length - 1].angle\n      });\n\n      touchData_a.push({\n        x: touch.clientX - offsetX,\n        y: touch.clientY - offsetY\n      });\n      touchData_b.push({\n        x: touch.clientX - offsetX,\n        y: touch.clientY - offsetY\n      });\n\n      touchData = touchData.map((g) => Object.assign(g, { x: g.x - move_offset_x, y: g.y - move_offset_y }));\n      touchData_a = touchData_a.map((g) => Object.assign(g, { x: g.x - move_offset_x, y: g.y - move_offset_y }));\n      touchData_b = touchData_b.map((g) => Object.assign(g, { x: g.x - move_offset_x, y: g.y - move_offset_y }));\n\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawPath(ctx, segmentsToPath(touchData, scale), pen_color);\n      drawPath(ctx, segmentsToPath(simplifyPath(touchData_a, tole), scale), pen_color);\n      drawPath(ctx, segmentsToPath(simplifyPath(touchData_b, tole), scale), pen_color);\n\n      updatePenPath();\n      var group = newGroupOnSVG();\n\n      drawPathOnSVG(currentPath.a, pen_color, group);\n      drawPathOnSVG(currentPath.b, pen_color, group);\n      drawPathOnSVG(currentPath.c, pen_color, group);\n\n      var ca = pathCommandToCoordinates(currentPath.a, 3);\n      var cb = pathCommandToCoordinates(currentPath.b, 3);\n      var cc = pathCommandToCoordinates(currentPath.c, 3);\n\n      registerElement(ca.concat(cb).concat(cc), group);\n      log_changes([group], []);\n    } else {\n      var point = touchData[touchData.length - 1];\n      var group = newGroupOnSVG();\n      drawCircleOnSVG(point.x, point.y, pen_width_base * 0.5, pen_color, group);\n      registerElement([point], group);\n      log_changes([group], []);\n    }\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t624: 0,\n\t897: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfabric\"] = self[\"webpackChunkfabric\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [555,483,493,667,401,429,743,897], () => (__webpack_require__(26)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["root","factory","exports","module","define","amd","self","deferred","supportsPassive","wheelOpt","passive","wheelEvent","document","createElement","preventDefault","e","preventDefaultForScrollKeys","keyCode","checkPassive","window","addEventListener","Object","defineProperty","get","disableScroll","enableScroll","removeEventListener","require","v4","colorToHex","color","componentToHex","c","hex","toString","String","length","toUpperCase","id","light","type","concat","r","g","b","dark","uuidv4","fc_animation","index","time","delay","m","selector","initial","quantity","df","opacity","scale","direction","fc_s1","openColorPlate","colorObj","html","i","push","querySelector","innerHTML","join","loadColorPlate","css","style","display","querySelectorAll","once","closeColorPlate","handleTouchStart_eraser","event","eraser_selected_element","handleTouchMove_eraser","touch","touches","current","x","clientX","offsetX","move_offset_x","y","clientY","offsetY","move_offset_y","k","ctx","clearRect","canvas","width","height","lineWidth","strokeStyle","eraser_color","beginPath","arc","eraser_d","Math","PI","stroke","assign","filterd_a","result","registration","hidden","x1","x2","y1","y2","filterd_a_len","w","z","points","sort","a","sqrt","pow","searchGroup","setAttributeNS","handleTouchEnd_eraser","hidden_element_identifier","target","appendChild","removeAttributeNS","log_changes","mode","mover","move_start_x","move_start_y","move_end_x","move_end_y","touchData","touchData_a","touchData_b","touch_point_identifier","pen_width_base","force_weight","speed_weight","pen_color","tole","min","log","currentPath","setToolMode","getSelector","classList","remove","add","handleTouchStart_mover","handleTouchMove_mover","svg_canvas_pen_layer","setAttribute","handleTouchEnd_mover","handleTouchStart_pen","identifier","force","time_stamp","Date","getTime","angle","fillStyle","fill","closePath","handleTouchMove_pen","t","hasOwnProperty","_typeof","filter","p","angleRadians","prev","atan2","speed","radius","max","c1","getCoordinateOnCircleBorder","c2","drawPath","segmentsToPath","simplifyPath","updatePenPath","handleTouchEnd_pen","changedTouches","map","group","newGroupOnSVG","drawPathOnSVG","ca","pathCommandToCoordinates","cb","cc","registerElement","point","drawCircleOnSVG","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","d","definition","o","enumerable","globalThis","this","Function","obj","prop","prototype","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","__webpack_exports__"],"sourceRoot":""}