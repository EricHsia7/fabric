!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("fabric",[],e):"object"==typeof exports?exports.fabric=e():t.fabric=e()}(self,(()=>(()=>{"use strict";var t,e={949:(t,e,o)=>{o.d(e,{K9:()=>u,XY:()=>s,Yz:()=>h});var n={37:1,38:1,39:1,40:1},i=!1,r=!!i&&{passive:!1},a="onwheel"in document.createElement("div")?"wheel":"mousewheel";function c(t){t.preventDefault()}function l(t){if(n[t.keyCode])return c(t),!1}function h(){try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){i=!0}}))}catch(t){}r=!!i&&{passive:!1}}function s(){window.addEventListener("DOMMouseScroll",c,!1),window.addEventListener(a,c,r),window.addEventListener("touchmove",c,r),window.addEventListener("keydown",l,!1)}function u(){window.removeEventListener("DOMMouseScroll",c,!1),window.removeEventListener(a,c,r),window.removeEventListener("touchmove",c,r),window.removeEventListener("keydown",l,!1)}},578:(t,e,o)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n)}}function r(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}o.d(e,{Vf:()=>f,W5:()=>p,Yy:()=>h,p:()=>u,t6:()=>s,tz:()=>c});var a=o(429).v4,c={},l=o(365),h=function(){function t(e,o,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&"number"==typeof o&&"number"==typeof n&&(e=Math.max(Math.min(255,Math.floor(e)),0),o=Math.max(Math.min(255,Math.floor(o)),0),n=Math.max(Math.min(255,Math.floor(n)),0),this.light={type:"rgb",r:e,g:o,b:n},this.dark={type:"rgb",r:e,g:o,b:n},this.id=a(),this.time=(new Date).getTime(),this.type="FabricColor")}var e,o,n;return e=t,(o=[{key:"toHEX",value:function(){function t(t){var e=t.toString(16);return String(1==e.length?"0"+e:e).toUpperCase()}function e(e,o,n){return"#"+t(e)+t(o)+t(n)}var o,n=function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};return o=n(),{type:"hex",light:{type:"hex",hex:e(this.light.r,this.light.g,this.light.b)},dark:{type:"hex",hex:e(this.dark.r,this.dark.g,this.dark.b)},current:{type:"hex",hex:e(this[o].r,this[o].g,this[o].b)},color_scheme:n,id:this.id}}},{key:"toCSS",value:function(){var t=this.toHEX();return{type:"css",light:{declaration:"--fc-".concat(this.id,": ").concat(t.light.hex,";")},dark:{declaration:"--fc-".concat(this.id,": ").concat(t.dark.hex,";")},application:"var(--fc-".concat(this.id,")"),id:this.id}}},{key:"save",value:function(t){var e="fc-".concat(this.id),o={type:this.type,id:this.id,light:this.light,dark:this.dark,time:this.time};t&&l.setItem(e,JSON.stringify(o)),o.obj=this,o.toHEX=this.toHEX(),o.toCSS=this.toCSS(),c[e]=o}},{key:"setColor",value:function(t,e,o,n,i,r){this.light={type:"rgb",r:t,g:e,b:o},this.dark={type:"rgb",r:n,g:i,b:r}}},{key:"setID",value:function(t){this.id=t}},{key:"setTime",value:function(t){this.time=t}}])&&i(e.prototype,o),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(){var t,e,o,n,i,r,a,c,l;n=255,i=255,r=255,a="default-black-white",c=0,(l=new h(t=0,e=0,o=0)).setColor(t,e,o,n,i,r),l.setID(a),l.setTime(c),l.save(!1)}function u(){l.keys().then((function(t){(t=t.filter((function(t){return String(t).indexOf("fc-")>-1}))).forEach((function(t){l.getItem(t).then((function(t){var e=JSON.parse(String(t)),o=new h(0,0,0);o.setColor(e.light.r,e.light.g,e.light.b,e.dark.r,e.dark.g,e.dark.b),o.setID(e.id),o.setTime(e.time),o.save(!1)}))}))})).catch((function(t){}))}function f(t){pen_color=c["fc-".concat(t)]}function p(){var t=function(){var t=[];for(var e in c)t.push(c[e]);return t.sort((function(t,e){return t.time-e.time})),t}(),e=[],o=[];t.forEach((function(t){e.push(t.obj.toCSS().light.declaration),o.push(t.obj.toCSS().dark.declaration)})),document.querySelector("head style#fabric_color").innerHTML=":root {".concat(e.join(""),"}@media (prefers-color-scheme: dark) {").concat(o.join(""),"}")}},533:(t,e,o)=>{o.d(e,{C_:()=>a,jN:()=>l,wP:()=>c});var n=o(442),i=o(483),r=o(10);function a(t){r.Ks={}}function c(t){var e=t.touches[0],o={x:e.clientX-r.D7-r.to,y:e.clientY-r.EO-r.pO};for(var n in i.Xl.clearRect(0,0,i.JQ.width,i.JQ.height),i.Xl.lineWidth=1.2*i.bA,i.Xl.strokeStyle=r.Ue,i.Xl.beginPath(),i.Xl.arc((o.x+r.D7+r.to)*i.bA,(o.y+r.EO+r.pO)*i.bA,(r.U6+5)*i.bA,0,2*Math.PI),i.Xl.stroke(),r.Ks=Object.assign(r.Ks,function(t,e){var o=[],n={};for(var a in i.l9){var c=i.l9[a];c&&(!0!==c.hidden&&c.x1-5-r.U6<=t&&t<=c.x2+5+r.U6&&c.y1-5-r.U6<=e&&e<=c.y2+5+r.U6&&o.push(c))}for(var l=o.length,h=0;h<l;h++){var s=o[h],u=s.points.sort((function(o,n){return Math.sqrt(Math.pow(o.x-t,2)+Math.pow(o.y-e,2))-Math.sqrt(Math.pow(n.x-t,2)+Math.pow(n.y-e,2))}));Math.sqrt(Math.pow(u[0].x-t,2)+Math.pow(u[0].y-e,2))<10+r.U6&&(n[s.id]=!0)}return n}(o.x,o.y)),r.Ks)document.querySelector("svg#vector_fabric g#"+n).setAttributeNS(null,"opacity","0.25")}function l(t){i.Xl.clearRect(0,0,i.JQ.width,i.JQ.height);var e=[];for(var o in r.Ks){var a=document.querySelector("svg#vector_fabric g#"+o);document.querySelector("svg#vector_fabric g#hidden_pen").appendChild(a),a.removeAttributeNS(null,"opacity"),i.l9[o].hidden=!0,e.push(o)}(0,n.b6)([],e)}},10:(t,e,o)=>{o.d(e,{D7:()=>u,EO:()=>f,Ib:()=>b,JS:()=>m,Ks:()=>S,Ot:()=>r,Tt:()=>E,U6:()=>M,Ue:()=>X,WI:()=>y,ZM:()=>l,a1:()=>g,b6:()=>O,e:()=>v,eP:()=>i,i6:()=>w,pE:()=>p,pO:()=>s,to:()=>h,w0:()=>c,x8:()=>x,xJ:()=>n,zW:()=>a,zi:()=>d});var n=0,i=!1,r=0,a=0,c=0,l=0,h=0,s=0,u=0,f=0,p=[],d=[],y=[],b=0,m=4,v=0,g=-.7,x={},w=Math.min(Math.log(m)/Math.log(Math.pow(10,.88)),.7),E={a:"",b:"",c:""},S={},M=15,X="#888888";function O(t){function e(t){return document.querySelector('.tools_container button[m="'.concat(t,'"] span'))}n=t;for(var o=0;o<3;o++)e(o).classList.remove("filled");e(t).classList.add("filled")}},760:(t,e,o)=>{o.d(e,{DY:()=>r,NT:()=>a,i0:()=>c});var n=o(10),i=o(483);function r(t){var e=t.touches[0],o={x:e.clientX-n.D7,y:e.clientY-n.EO};n.Ot=o.x,n.zW=o.y}function a(t){var e=t.touches[0],o={x:e.clientX-n.D7,y:e.clientY-n.EO};n.w0=o.x,n.ZM=o.y,i.qX.setAttribute("transform","translate(".concat(n.to+n.w0-n.Ot," ").concat(n.pO+n.ZM-n.zW,")"))}function c(t){n.to+=n.w0-n.Ot,n.pO+=n.ZM-n.zW,i.qX.setAttribute("transform","translate(".concat(n.to," ").concat(n.pO,")"))}},857:(t,e,o)=>{o.d(e,{Bu:()=>u,J9:()=>p,_r:()=>f});var n=o(285),i=o(494),r=o(388),a=o(442),c=o(483),l=o(10),h=o(547);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t){var e=t.touches[0];l.pE=[],l.zi=[],l.WI=[],l.Ib=e.identifier,e.force?(l.e=.5,l.a1=-.2):(l.e=.1,l.a1=.2),l.pE.push({x:e.clientX-l.D7,y:e.clientY-l.EO,force:e.force||0,time_stamp:(new Date).getTime(),angle:0}),l.zi.push({x:e.clientX-l.D7,y:e.clientY-l.EO}),l.WI.push({x:e.clientX-l.D7,y:e.clientY-l.EO});var o=l.pE[l.pE.length-1];c.Xl.beginPath(),c.Xl.arc(o.x*c.bA,o.y*c.bA,.5*l.JS*c.bA,0,2*Math.PI),c.Xl.fillStyle=l.x8.toHEX[l.x8.toHEX.color_scheme()].hex,c.Xl.fill(),c.Xl.closePath()}function f(t){var e=[];for(var o in t.touches)t.touches.hasOwnProperty(o)&&"object"===s(t.touches[o])&&e.push(t.touches[o]);var r=e.filter((function(t){return t.identifier===l.Ib}))[0];if(r){var a,u=l.pE[l.pE.length-1]||{x:r.clientX-l.D7,y:r.clientY-l.EO,force:r.force||0,time_stamp:(new Date).getTime(),angle:0},f=l.pE[l.pE.length-2]||u,p=f.x,d=f.y,y=u.x,b=u.y;a=y-p==0?b>d?Math.PI/2:b<d?-Math.PI/2:0:Math.atan2(b-d,y-p),l.pE.push({x:r.clientX-l.D7,y:r.clientY-l.EO,force:r.force||0,time_stamp:(new Date).getTime(),angle:a});var m=Math.sqrt(Math.pow(u.x-f.x,2)+Math.pow(u.y-f.y,2))/(u.time_stamp-f.time_stamp),v=Math.min(Math.max(l.JS*Math.pow(u.force,.4)*(l.e/(l.e+l.a1))*.5+l.JS*Math.max(.3,Math.log(m)/Math.log(1.8))*(l.a1/(l.e+l.a1))*.5,0),.7*l.JS)||0,g=(0,n.I)(r.clientX-l.D7,r.clientY-l.EO,v,a-Math.PI/2),x=(0,n.I)(r.clientX-l.D7,r.clientY-l.EO,v,a+Math.PI/2);l.zi.push({x:g.x,y:g.y}),l.WI.push({x:x.x,y:x.y}),l.pE.length>=2&&(c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height),(0,h.M)(c.Xl,(0,i.oT)(l.pE,c.bA),l.x8.toHEX[l.x8.toHEX.color_scheme()].hex),(0,h.M)(c.Xl,(0,i.oT)((0,i.Sz)(l.zi,l.i6),c.bA),l.x8.toHEX[l.x8.toHEX.color_scheme()].hex),(0,h.M)(c.Xl,(0,i.oT)((0,i.Sz)(l.WI,l.i6),c.bA),l.x8.toHEX[l.x8.toHEX.color_scheme()].hex)),(0,c.xg)()}}function p(t){var e=[];for(var o in t.changedTouches)t.changedTouches.hasOwnProperty(o)&&"object"===s(t.changedTouches[o])&&e.push(t.changedTouches[o]);var n=e.filter((function(t){return t.identifier===l.Ib}))[0];if(n){if(l.pE.length>=2){l.pE[l.pE.length-1];l.pE.push({x:n.clientX-l.D7,y:n.clientY-l.EO,force:n.force||0,time_stamp:(new Date).getTime(),angle:l.pE[l.pE.length-1].angle}),l.zi.push({x:n.clientX-l.D7,y:n.clientY-l.EO}),l.WI.push({x:n.clientX-l.D7,y:n.clientY-l.EO}),l.pE=l.pE.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),l.zi=l.zi.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),l.WI=l.WI.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height),(0,h.M)(c.Xl,(0,i.oT)(l.pE,c.bA),l.x8.toHEX[l.x8.toHEX.color_scheme()].hex),(0,h.M)(c.Xl,(0,i.oT)((0,i.Sz)(l.zi,l.i6),c.bA),l.x8.toHEX[l.x8.toHEX.color_scheme()].hex),(0,h.M)(c.Xl,(0,i.oT)((0,i.Sz)(l.WI,l.i6),c.bA),l.x8.toHEX[l.x8.toHEX.color_scheme()].hex),(0,c.xg)();var u=(0,r.m)();(0,r.Yw)(l.Tt.a,l.x8.toCSS.application,u),(0,r.Yw)(l.Tt.b,l.x8.toCSS.application,u),(0,r.Yw)(l.Tt.c,l.x8.toCSS.application,u);var f=(0,i.s3)(l.Tt.a,3),p=(0,i.s3)(l.Tt.b,3),d=(0,i.s3)(l.Tt.c,3);(0,c.ui)(f.concat(p).concat(d),u),(0,a.b6)([u],[])}else{var y=l.pE[l.pE.length-1];u=(0,r.m)();(0,r.s5)(y.x,y.y,.5*l.JS,l.x8,u),(0,c.ui)([y],u),(0,a.b6)([u],[])}c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height)}}}},o={};function n(t){var i=o[t];if(void 0!==i)return i.exports;var r=o[t]={exports:{}};return e[t].call(r.exports,r,r.exports,n),r.exports}n.m=e,t=[],n.O=(e,o,i,r)=>{if(!o){var a=1/0;for(s=0;s<t.length;s++){for(var[o,i,r]=t[s],c=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((t=>n.O[t](o[l])))?o.splice(l--,1):(c=!1,r<a&&(a=r));if(c){t.splice(s--,1);var h=i();void 0!==h&&(e=h)}}return e}r=r||0;for(var s=t.length;s>0&&t[s-1][2]>r;s--)t[s]=t[s-1];t[s]=[o,i,r]},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={624:0,897:0};n.O.j=e=>0===t[e];var e=(e,o)=>{var i,r,[a,c,l]=o,h=0;if(a.some((e=>0!==t[e]))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(l)var s=l(n)}for(e&&e(o);h<a.length;h++)r=a[h],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(s)},o=self.webpackChunkfabric=self.webpackChunkfabric||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var i=n.O(void 0,[555,483,493,667,401,429,743,897],(()=>n(26)));return i=(i=n.O(i)).default})()));
//# sourceMappingURL=main-ef7d455c.0cb8ff3b661985607f55.min.js.map