{"version":3,"file":"main-ef7d455c.2083beccf1fe7926a2e6.min.js","mappings":"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","sources":["webpack://fabric/webpack/universalModuleDefinition","webpack://fabric/webpack/runtime/chunk loaded","webpack://fabric/./src/scroll/index.ts","webpack://fabric/./src/tools/color.ts","webpack://fabric/./src/tools/eraser.ts","webpack://fabric/./src/tools/index.ts","webpack://fabric/./src/tools/mover.ts","webpack://fabric/./src/tools/pen.ts","webpack://fabric/webpack/bootstrap","webpack://fabric/webpack/runtime/define property getters","webpack://fabric/webpack/runtime/global","webpack://fabric/webpack/runtime/hasOwnProperty shorthand","webpack://fabric/webpack/runtime/jsonp chunk loading","webpack://fabric/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fabric\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fabric\"] = factory();\n\telse\n\t\troot[\"fabric\"] = factory();\n})(self, () => {\nreturn ","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","export let keys = { 37: 1, 38: 1, 39: 1, 40: 1 };\nexport var supportsPassive = false;\nexport var wheelOpt = supportsPassive ? { passive: false } : false;\nexport var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\n\nexport function preventDefault(e) {\n  e.preventDefault();\n}\n\nexport function preventDefaultForScrollKeys(e) {\n  if (keys[e.keyCode]) {\n    preventDefault(e);\n    return false;\n  }\n}\n\nexport function checkPassive() {\n  try {\n    window.addEventListener(\n      'test',\n      null,\n      Object.defineProperty({}, 'passive', {\n        get: function () {\n          supportsPassive = true;\n        }\n      })\n    );\n  } catch (e) {}\n  wheelOpt = supportsPassive ? { passive: false } : false;\n}\n\nexport function disableScroll() {\n  window.addEventListener('DOMMouseScroll', preventDefault, false); // older FF\n  window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop\n  window.addEventListener('touchmove', preventDefault, wheelOpt); // mobile\n  window.addEventListener('keydown', preventDefaultForScrollKeys, false);\n}\n\nexport function enableScroll() {\n  window.removeEventListener('DOMMouseScroll', preventDefault, false);\n  window.removeEventListener(wheelEvent, preventDefault, wheelOpt);\n  window.removeEventListener('touchmove', preventDefault, wheelOpt);\n  window.removeEventListener('keydown', preventDefaultForScrollKeys, false);\n}\n","import { pen_color, pen_color_id } from './index.ts';\n\nvar { v4: uuidv4 } = require('uuid');\nexport var fabric_color_list = {};\nvar localforage = require('localforage');\n\nexport class FabricColor {\n  constructor(r, g, b) {\n    if (typeof r === 'number' && typeof g === 'number' && typeof b === 'number') {\n      r = Math.max(Math.min(255, Math.floor(r)), 0);\n      g = Math.max(Math.min(255, Math.floor(g)), 0);\n      b = Math.max(Math.min(255, Math.floor(b)), 0);\n      this.light = { type: 'rgb', r: r, g: g, b: b };\n      this.dark = { type: 'rgb', r: r, g: g, b: b };\n      this.id = uuidv4();\n      this.time = new Date().getTime();\n      this.type = 'FabricColor';\n    }\n  }\n  toHEX() {\n    function componentToHex(c) {\n      var hex = c.toString(16);\n      return String(hex.length == 1 ? '0' + hex : hex).toUpperCase();\n    }\n    function rgbToHex(r, g, b) {\n      return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\n    }\n    var color_scheme = 'light';\n    var mf = function () {\n      return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    };\n    color_scheme = mf();\n    return {\n      type: 'hex',\n      light: { type: 'hex', hex: rgbToHex(this.light.r, this.light.g, this.light.b) },\n      dark: { type: 'hex', hex: rgbToHex(this.dark.r, this.dark.g, this.dark.b) },\n      current: { type: 'hex', hex: rgbToHex(this[color_scheme].r, this[color_scheme].g, this[color_scheme].b) },\n      color_scheme: mf,\n      id: this.id\n    };\n  }\n  toCSS() {\n    var hex = this.toHEX();\n    return {\n      type: 'css',\n      light: { declaration: `--fc-${this.id}: ${hex.light.hex};` },\n      dark: { declaration: `--fc-${this.id}: ${hex.dark.hex};` },\n      application: `var(--fc-${this.id})`,\n      id: this.id\n    };\n  }\n  save(lf) {\n    var key = `fc-${this.id}`;\n    var obj = {\n      type: this.type,\n      id: this.id,\n      light: this.light,\n      dark: this.dark,\n      time: this.time\n    };\n    if (lf) {\n      localforage.setItem(key, JSON.stringify(obj));\n    }\n    obj.obj = this;\n    obj.toHEX = this.toHEX();\n    obj.toCSS = this.toCSS();\n    fabric_color_list[key] = obj;\n  }\n  setColor(r1, g1, b1, r2, g2, b2) {\n    this.light = { type: 'rgb', r: r1, g: g1, b: b1 };\n    this.dark = { type: 'rgb', r: r2, g: g2, b: b2 };\n  }\n  setID(id) {\n    this.id = id;\n  }\n  setTime(time) {\n    this.time = time;\n  }\n}\n\nexport function initializeFabricColors() {\n  function constructColor(r1, g1, b1, r2, g2, b2, id, time) {\n    var fc = new FabricColor(r1, g1, b1);\n    fc.setColor(r1, g1, b1, r2, g2, b2);\n    fc.setID(id);\n    fc.setTime(time);\n    fc.save(false);\n  }\n  constructColor(0, 0, 0, 255, 255, 255, 'default-black-white', 0);\n}\n\nexport function loadFabricColors() {\n  localforage\n    .keys()\n    .then(function (keys) {\n      keys = keys.filter((k) => (String(k).indexOf('fc-') > -1 ? true : false));\n      keys.forEach((element) => {\n        localforage.getItem(element).then(function (value) {\n          var obj = JSON.parse(String(value));\n          var fc = new FabricColor(0, 0, 0);\n          fc.setColor(obj.light.r, obj.light.g, obj.light.b, obj.dark.r, obj.dark.g, obj.dark.b);\n          fc.setID(obj.id);\n          fc.setTime(obj.time);\n          fc.save(false);\n        });\n      });\n    })\n    .catch(function (err) {});\n}\n\nexport function listFabricColors(): [] {\n  var list = [];\n  for (var g in fabric_color_list) {\n    list.push(fabric_color_list[g]);\n  }\n  list.sort(function (a, b) {\n    return a.time - b.time;\n  });\n  return list;\n}\n\nexport function setPenColor(id) {\n  pen_color_id = `fc-${id}`;\n}\n\nexport function updateFabricColorStyleTag() {\n  var list = listFabricColors();\n  var light = [];\n  var dark = [];\n  list.forEach((g) => {\n    light.push(g.obj.toCSS().light.declaration);\n    dark.push(g.obj.toCSS().dark.declaration);\n  });\n  document.querySelector('head style#fabric_color').innerHTML = `:root {${light.join('')}}@media (prefers-color-scheme: dark) {${dark.join('')}}`;\n}\n","import { log_changes } from '../fabric/history.ts';\nimport { canvas, ctx, scale, registration } from '../fabric/index.ts';\nimport { mode, mover, move_start_x, move_start_y, move_end_x, move_end_y, move_offset_x, move_offset_y, offsetX, offsetY, touchData, touchData_a, touchData_b, start_timestamp, touch_point_identifier, pen_width_base, force_weight, speed_weight, pen_color, tole, currentPath, eraser_selected_element, eraser_hidden_element, eraser_d, eraser_color, setToolMode } from './index.ts';\n\nexport function handleTouchStart_eraser(event) {\n  eraser_selected_element = {};\n}\n\nexport function handleTouchMove_eraser(event) {\n  var touch = event.touches[0];\n  var current = {\n    x: touch.clientX - offsetX - move_offset_x,\n    y: touch.clientY - offsetY - move_offset_y\n  };\n\n  function searchGroup(x, y) {\n    var filterd_a = [];\n    var result = {};\n    for (var r in registration) {\n      var g = registration[r];\n      if (!g) {\n        continue;\n      }\n      if (g.hidden === true) {\n        continue;\n      }\n      if (g.x1 - 5 - eraser_d <= x && x <= g.x2 + 5 + eraser_d && g.y1 - 5 - eraser_d <= y && y <= g.y2 + 5 + eraser_d) {\n        filterd_a.push(g);\n      }\n    }\n    var filterd_a_len = filterd_a.length;\n    for (var i = 0; i < filterd_a_len; i++) {\n      var w = filterd_a[i];\n      var z = w.points.sort(function (a, b) {\n        return Math.sqrt(Math.pow(a.x - x, 2) + Math.pow(a.y - y, 2)) - Math.sqrt(Math.pow(b.x - x, 2) + Math.pow(b.y - y, 2));\n      });\n      if (Math.sqrt(Math.pow(z[0].x - x, 2) + Math.pow(z[0].y - y, 2)) < 10 + eraser_d) {\n        result[w.id] = true;\n        continue;\n      }\n    }\n    return result;\n  }\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  ctx.lineWidth = 1.2 * scale;\n  ctx.strokeStyle = eraser_color;\n\n  ctx.beginPath();\n  ctx.arc((current.x + offsetX + move_offset_x) * scale, (current.y + offsetY + move_offset_y) * scale, (eraser_d + 5) * scale, 0, 2 * Math.PI);\n  ctx.stroke();\n\n  eraser_selected_element = Object.assign(eraser_selected_element, searchGroup(current.x, current.y));\n  for (var k in eraser_selected_element) {\n    document.querySelector('svg#vector_fabric g#' + k).setAttributeNS(null, 'opacity', '0.25');\n  }\n}\n\nexport function handleTouchEnd_eraser(event) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  var hidden_element_identifier = [];\n  for (var k in eraser_selected_element) {\n    var target = document.querySelector('svg#vector_fabric g#' + k);\n\n    document.querySelector('svg#vector_fabric g#hidden_pen').appendChild(target);\n    target.removeAttributeNS(null, 'opacity');\n    //target.remove()\n    registration[k].hidden = true;\n    hidden_element_identifier.push(k);\n  }\n  log_changes([], hidden_element_identifier);\n}\n","import { fabric_color_list, FabricColor } from './color.ts';\n\nexport var mode: number = 0;\n\nexport var mover: boolean = false;\nexport var move_start_x: number = 0;\nexport var move_start_y: number = 0;\nexport var move_end_x: number = 0;\nexport var move_end_y: number = 0;\nexport var move_offset_x: number = 0;\nexport var move_offset_y: number = 0;\nexport var offsetX: number = 0;\nexport var offsetY: number = 0;\n\nexport var touchData: Array = [];\nexport var touchData_a: Array = [];\nexport var touchData_b: Array = [];\nexport var start_timestamp: number = 0;\nexport var touch_point_identifier: number = 0;\n\nexport var pen_width_base: number = 4;\nexport var force_weight: number = 0;\nexport var speed_weight: number = -0.7;\nexport var pen_color: string = '#000000';\nexport var pen_color_id: string = 'fc-default-black-white';\nexport var tole: number = Math.min(Math.log(pen_width_base) / Math.log(Math.pow(10, 0.88)), 0.7);\n\nexport var currentPath: object = { a: '', b: '', c: '' };\nexport var eraser_selected_element: object = {};\nexport var eraser_hidden_element: object = {};\nexport var eraser_d = 15;\nexport let eraser_color = '#888888';\n\nexport function setToolMode(m) {\n  mode = m;\n  function getSelector(m) {\n    return document.querySelector(`.tools_container button[m=\"${m}\"] span`);\n  }\n  for (var i = 0; i < 3; i++) {\n    getSelector(i).classList.remove('filled');\n  }\n  getSelector(m).classList.add('filled');\n}\n","import { eraser_selected_element, eraser_hidden_element, eraser_d, move_start_x, move_start_y, move_end_x, move_end_y, move_offset_x, move_offset_y, offsetX, offsetY } from './index.ts';\nimport { svg_canvas_pen_layer } from '../fabric/index.ts';\nexport function handleTouchStart_mover(event) {\n  var touch = event.touches[0];\n  var current = {\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY\n  };\n  move_start_x = current.x;\n  move_start_y = current.y;\n}\n\nexport function handleTouchMove_mover(event) {\n  var touch = event.touches[0];\n  var current = {\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY\n  };\n  move_end_x = current.x;\n  move_end_y = current.y;\n  svg_canvas_pen_layer.setAttribute('transform', `translate(${move_offset_x + move_end_x - move_start_x} ${move_offset_y + move_end_y - move_start_y})`);\n}\n\nexport function handleTouchEnd_mover(event) {\n  move_offset_x += move_end_x - move_start_x;\n  move_offset_y += move_end_y - move_start_y;\n  svg_canvas_pen_layer.setAttribute('transform', `translate(${move_offset_x} ${move_offset_y})`);\n}\n","import { getCoordinateOnCircleBorder } from '../graph/coordinate.ts';\nimport { segmentsToPath, simplifyPath, pathCommandToCoordinates } from '../graph/path.ts';\nimport { newGroupOnSVG, drawPathOnSVG, drawCircleOnSVG } from '../fabric/svg.ts';\nimport { log_changes } from '../fabric/history.ts';\nimport { registerElement, updatePenPath, canvas, ctx, scale } from '../fabric/index.ts';\nimport { mode, mover, move_start_x, move_start_y, move_end_x, move_end_y, move_offset_x, move_offset_y, offsetX, offsetY, touchData, touchData_a, touchData_b, start_timestamp, touch_point_identifier, pen_width_base, force_weight, speed_weight, pen_color, pen_color_id, tole, currentPath, eraser_selected_element, eraser_hidden_element, eraser_d, eraser_color, setToolMode } from './index.ts';\nimport { drawPath } from '../fabric/canvas.ts';\nimport { fabric_color_list, FabricColor } from './color.ts';\n\nexport function handleTouchStart_pen(event) {\n  var touch = event.touches[0];\n  touchData = []; // Clear previous touch data\n  touchData_a = [];\n  touchData_b = [];\n  touch_point_identifier = touch.identifier;\n\n  if (touch.force) {\n    force_weight = 0.5;\n    speed_weight = -0.2;\n  } else {\n    force_weight = 0.1;\n    speed_weight = 0.2;\n  }\n  //ctx.clearRect(0, 0, window.innerWidth * scale, window.innerHeight * scale);\n\n  touchData.push({\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY,\n    force: touch.force || 0, // Get force (if available, otherwise default to 0)\n    time_stamp: new Date().getTime(),\n    angle: 0\n    // Get timestamp\n  });\n\n  touchData_a.push({\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY\n  });\n  touchData_b.push({\n    x: touch.clientX - offsetX,\n    y: touch.clientY - offsetY\n  });\n  var current = touchData[touchData.length - 1];\n  ctx.beginPath();\n\n  // Draw a circle\n  ctx.arc(current.x * scale, current.y * scale, pen_width_base * 0.5 * scale, 0, 2 * Math.PI);\n  ctx.fillStyle = pen_color;\n  // Fill the circle with color\n  ctx.fill();\n  // Finish drawing\n  ctx.closePath();\n  console.log(fabric_color_list);\n  console.log(fabric_color_list[pen_color_id]);\n  console.log(fabric_color_list[pen_color_id].obj);\n  console.log(fabric_color_list[pen_color_id].obj.toHEX());\n}\n\n//export function to handle touch move event\nexport function handleTouchMove_pen(event) {\n  var touches = [];\n  for (var t in event.touches) {\n    if (event.touches.hasOwnProperty(t) && typeof event.touches[t] === 'object') {\n      touches.push(event.touches[t]);\n    }\n  }\n\n  var touch = touches.filter((p) => p.identifier === touch_point_identifier)[0];\n  if (touch) {\n    var current = touchData[touchData.length - 1] || {\n      x: touch.clientX - offsetX,\n      y: touch.clientY - offsetY,\n      force: touch.force || 0, // Get force (if available, otherwise default to 0)\n      time_stamp: new Date().getTime(),\n      angle: 0\n    };\n    var prev = touchData[touchData.length - 2] || current;\n    var x1 = prev.x;\n    var y1 = prev.y;\n    var x2 = current.x;\n    var y2 = current.y;\n    var angleRadians;\n    if (x2 - x1 === 0) {\n      // Handle vertical line (x-coordinates are the same)\n      if (y2 > y1) {\n        angleRadians = Math.PI / 2; // 90 degrees or π/2 radians\n      } else if (y2 < y1) {\n        angleRadians = -Math.PI / 2;\n        //angleRadians = Math.PI*(3/2);\n        // -90 degrees or -π/2 radians\n      } else {\n        angleRadians = 0; // Points are the same (angle is 0 radians)\n      }\n    } else {\n      // Non-vertical line\n      angleRadians = Math.atan2(y2 - y1, x2 - x1);\n    }\n\n    touchData.push({\n      x: touch.clientX - offsetX,\n      y: touch.clientY - offsetY,\n      force: touch.force || 0, // Get force (if available, otherwise default to 0)\n      time_stamp: new Date().getTime(),\n      angle: angleRadians\n    });\n\n    var speed = Math.sqrt(Math.pow(current.x - prev.x, 2) + Math.pow(current.y - prev.y, 2)) / (current.time_stamp - prev.time_stamp);\n    var radius = Math.min(Math.max(pen_width_base * Math.pow(current.force, 0.4) * (force_weight / (force_weight + speed_weight)) * 0.5 + pen_width_base * Math.max(0.3, Math.log(speed) / Math.log(1.8)) * (speed_weight / (force_weight + speed_weight)) * 0.5, 0), pen_width_base * 0.7) || 0;\n    var c1 = getCoordinateOnCircleBorder(touch.clientX - offsetX, touch.clientY - offsetY, radius, angleRadians - Math.PI / 2);\n    var c2 = getCoordinateOnCircleBorder(touch.clientX - offsetX, touch.clientY - offsetY, radius, angleRadians + Math.PI / 2);\n\n    touchData_a.push({\n      x: c1.x,\n      y: c1.y\n    });\n    touchData_b.push({\n      x: c2.x,\n      y: c2.y\n    });\n    if (touchData.length >= 2) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawPath(ctx, segmentsToPath(touchData, scale), pen_color);\n      drawPath(ctx, segmentsToPath(simplifyPath(touchData_a, tole), scale), pen_color);\n      drawPath(ctx, segmentsToPath(simplifyPath(touchData_b, tole), scale), pen_color);\n    }\n    updatePenPath();\n  }\n}\n\nexport function handleTouchEnd_pen(event) {\n  var touches = [];\n  for (var t in event.changedTouches) {\n    if (event.changedTouches.hasOwnProperty(t) && typeof event.changedTouches[t] === 'object') {\n      touches.push(event.changedTouches[t]);\n    }\n  }\n\n  var touch = touches.filter((p) => p.identifier === touch_point_identifier)[0];\n  if (touch) {\n    if (touchData.length >= 2) {\n      var prev = touchData[touchData.length - 1];\n      touchData.push({\n        x: touch.clientX - offsetX,\n        y: touch.clientY - offsetY,\n        force: touch.force || 0, // Get force (if available, otherwise default to 0)\n        time_stamp: new Date().getTime(),\n        angle: touchData[touchData.length - 1].angle\n      });\n\n      touchData_a.push({\n        x: touch.clientX - offsetX,\n        y: touch.clientY - offsetY\n      });\n      touchData_b.push({\n        x: touch.clientX - offsetX,\n        y: touch.clientY - offsetY\n      });\n\n      touchData = touchData.map((g) => Object.assign(g, { x: g.x - move_offset_x, y: g.y - move_offset_y }));\n      touchData_a = touchData_a.map((g) => Object.assign(g, { x: g.x - move_offset_x, y: g.y - move_offset_y }));\n      touchData_b = touchData_b.map((g) => Object.assign(g, { x: g.x - move_offset_x, y: g.y - move_offset_y }));\n\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawPath(ctx, segmentsToPath(touchData, scale), pen_color);\n      drawPath(ctx, segmentsToPath(simplifyPath(touchData_a, tole), scale), pen_color);\n      drawPath(ctx, segmentsToPath(simplifyPath(touchData_b, tole), scale), pen_color);\n\n      updatePenPath();\n      var group = newGroupOnSVG();\n\n      drawPathOnSVG(currentPath.a, pen_color, group);\n      drawPathOnSVG(currentPath.b, pen_color, group);\n      drawPathOnSVG(currentPath.c, pen_color, group);\n\n      var ca = pathCommandToCoordinates(currentPath.a, 3);\n      var cb = pathCommandToCoordinates(currentPath.b, 3);\n      var cc = pathCommandToCoordinates(currentPath.c, 3);\n\n      registerElement(ca.concat(cb).concat(cc), group);\n      log_changes([group], []);\n    } else {\n      var point = touchData[touchData.length - 1];\n      var group = newGroupOnSVG();\n      drawCircleOnSVG(point.x, point.y, pen_width_base * 0.5, pen_color, group);\n      registerElement([point], group);\n      log_changes([group], []);\n    }\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t624: 0,\n\t897: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfabric\"] = self[\"webpackChunkfabric\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [555,483,493,667,401,429,743,897], () => (__webpack_require__(26)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["root","factory","exports","module","define","amd","self","deferred","keys","supportsPassive","wheelOpt","passive","wheelEvent","document","createElement","preventDefault","e","preventDefaultForScrollKeys","keyCode","checkPassive","window","addEventListener","Object","defineProperty","get","disableScroll","enableScroll","removeEventListener","uuidv4","require","v4","fabric_color_list","localforage","FabricColor","r","g","b","_classCallCheck","Math","max","min","floor","this","light","type","dark","id","time","Date","getTime","key","value","componentToHex","c","hex","toString","String","length","toUpperCase","rgbToHex","color_scheme","mf","matchMedia","matches","current","toHEX","declaration","concat","application","lf","obj","setItem","JSON","stringify","toCSS","r1","g1","b1","r2","g2","b2","initializeFabricColors","fc","setColor","setID","setTime","save","loadFabricColors","then","filter","k","indexOf","forEach","element","getItem","parse","err","updateFabricColorStyleTag","list","push","sort","a","listFabricColors","querySelector","innerHTML","join","handleTouchStart_eraser","event","eraser_selected_element","handleTouchMove_eraser","touch","touches","x","clientX","offsetX","move_offset_x","y","clientY","offsetY","move_offset_y","ctx","clearRect","canvas","width","height","lineWidth","scale","strokeStyle","eraser_color","beginPath","arc","eraser_d","PI","stroke","assign","filterd_a","result","registration","hidden","x1","x2","y1","y2","filterd_a_len","i","w","z","points","sqrt","pow","searchGroup","setAttributeNS","handleTouchEnd_eraser","hidden_element_identifier","target","appendChild","removeAttributeNS","log_changes","mode","mover","move_start_x","move_start_y","move_end_x","move_end_y","touchData","touchData_a","touchData_b","touch_point_identifier","pen_width_base","force_weight","speed_weight","pen_color","pen_color_id","tole","log","currentPath","setToolMode","m","getSelector","classList","remove","add","handleTouchStart_mover","handleTouchMove_mover","svg_canvas_pen_layer","setAttribute","handleTouchEnd_mover","handleTouchStart_pen","identifier","force","time_stamp","angle","fillStyle","fill","closePath","console","handleTouchMove_pen","t","hasOwnProperty","_typeof","p","angleRadians","prev","atan2","speed","radius","c1","getCoordinateOnCircleBorder","c2","drawPath","segmentsToPath","simplifyPath","updatePenPath","handleTouchEnd_pen","changedTouches","map","group","newGroupOnSVG","drawPathOnSVG","ca","pathCommandToCoordinates","cb","cc","registerElement","point","drawCircleOnSVG","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","d","definition","o","enumerable","globalThis","Function","prop","prototype","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}