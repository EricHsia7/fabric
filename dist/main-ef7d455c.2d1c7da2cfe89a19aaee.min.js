!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("fabric",[],e):"object"==typeof exports?exports.fabric=e():t.fabric=e()}(self,(()=>(()=>{"use strict";var t,e={949:(t,e,n)=>{n.d(e,{K9:()=>u,XY:()=>s,Yz:()=>h});var i={37:1,38:1,39:1,40:1},o=!1,r=!!o&&{passive:!1},a="onwheel"in document.createElement("div")?"wheel":"mousewheel";function c(t){t.preventDefault()}function l(t){if(i[t.keyCode])return c(t),!1}function h(){try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){o=!0}}))}catch(t){}r=!!o&&{passive:!1}}function s(){window.addEventListener("DOMMouseScroll",c,!1),window.addEventListener(a,c,r),window.addEventListener("touchmove",c,r),window.addEventListener("keydown",l,!1)}function u(){window.removeEventListener("DOMMouseScroll",c,!1),window.removeEventListener(a,c,r),window.removeEventListener("touchmove",c,r),window.removeEventListener("keydown",l,!1)}},578:(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function r(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}n.d(e,{W5:()=>f,Yy:()=>h,p:()=>u,t6:()=>s,tz:()=>c});var a=n(429).v4,c={},l=n(365),h=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&(e=Math.max(Math.min(255,Math.floor(e)),0),n=Math.max(Math.min(255,Math.floor(n)),0),i=Math.max(Math.min(255,Math.floor(i)),0),this.light={type:"rgb",r:e,g:n,b:i},this.dark={type:"rgb",r:e,g:n,b:i},this.id=a(),this.time=(new Date).getTime(),this.type="FabricColor")}var e,n,i;return e=t,(n=[{key:"toHEX",value:function(){function t(t){var e=t.toString(16);return String(1==e.length?"0"+e:e).toUpperCase()}function e(e,n,i){return"#"+t(e)+t(n)+t(i)}var n,i=function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};return n=i(),{type:"hex",light:{type:"hex",hex:e(this.light.r,this.light.g,this.light.b)},dark:{type:"hex",hex:e(this.dark.r,this.dark.g,this.dark.b)},current:{type:"hex",hex:e(this[n].r,this[n].g,this[n].b)},color_scheme:i,id:this.id}}},{key:"toCSS",value:function(){var t=this.toHEX();return{type:"css",light:{declaration:"--fc-".concat(this.id,": ").concat(t.light.hex,";")},dark:{declaration:"--fc-".concat(this.id,": ").concat(t.dark.hex,";")},application:"var(--fc-".concat(this.id,")"),id:this.id}}},{key:"save",value:function(t){var e="fc-".concat(this.id),n={type:this.type,id:this.id,light:this.light,dark:this.dark,time:this.time};t&&l.setItem(e,JSON.stringify(n)),n.obj=this,n.toHEX=this.toHEX(),n.toCSS=this.toCSS(),c[e]=n}},{key:"setColor",value:function(t,e,n,i,o,r){this.light={type:"rgb",r:t,g:e,b:n},this.dark={type:"rgb",r:i,g:o,b:r}}},{key:"setID",value:function(t){this.id=t}},{key:"setTime",value:function(t){this.time=t}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(){var t,e,n,i,o,r,a,c,l;i=255,o=255,r=255,a="default-black-white",c=0,(l=new h(t=0,e=0,n=0)).setColor(t,e,n,i,o,r),l.setID(a),l.setTime(c),l.save(!1)}function u(){l.keys().then((function(t){(t=t.filter((function(t){return String(t).indexOf("fc-")>-1}))).forEach((function(t){l.getItem(t).then((function(t){var e=JSON.parse(String(t)),n=new h(0,0,0);n.setColor(e.light.r,e.light.g,e.light.b,e.dark.r,e.dark.g,e.dark.b),n.setID(e.id),n.setTime(e.time),n.save(!1)}))}))})).catch((function(t){}))}function f(){var t=function(){var t=[];for(var e in c)t.push(c[e]);return t.sort((function(t,e){return t.time-e.time})),t}(),e=[],n=[];t.forEach((function(t){e.push(t.obj.toCSS().light.declaration),n.push(t.obj.toCSS().dark.declaration)})),document.querySelector("head style#fabric_color").innerHTML=":root {".concat(e.join(""),"}@media (prefers-color-scheme: dark) {").concat(n.join(""),"}")}},533:(t,e,n)=>{n.d(e,{C_:()=>a,jN:()=>l,wP:()=>c});var i=n(442),o=n(483),r=n(10);function a(t){r.Ks={}}function c(t){var e=t.touches[0],n={x:e.clientX-r.D7-r.to,y:e.clientY-r.EO-r.pO};for(var i in o.Xl.clearRect(0,0,o.JQ.width,o.JQ.height),o.Xl.lineWidth=1.2*o.bA,o.Xl.strokeStyle=r.Ue,o.Xl.beginPath(),o.Xl.arc((n.x+r.D7+r.to)*o.bA,(n.y+r.EO+r.pO)*o.bA,(r.U6+5)*o.bA,0,2*Math.PI),o.Xl.stroke(),r.Ks=Object.assign(r.Ks,function(t,e){var n=[],i={};for(var a in o.l9){var c=o.l9[a];c&&(!0!==c.hidden&&c.x1-5-r.U6<=t&&t<=c.x2+5+r.U6&&c.y1-5-r.U6<=e&&e<=c.y2+5+r.U6&&n.push(c))}for(var l=n.length,h=0;h<l;h++){var s=n[h],u=s.points.sort((function(n,i){return Math.sqrt(Math.pow(n.x-t,2)+Math.pow(n.y-e,2))-Math.sqrt(Math.pow(i.x-t,2)+Math.pow(i.y-e,2))}));Math.sqrt(Math.pow(u[0].x-t,2)+Math.pow(u[0].y-e,2))<10+r.U6&&(i[s.id]=!0)}return i}(n.x,n.y)),r.Ks)document.querySelector("svg#vector_fabric g#"+i).setAttributeNS(null,"opacity","0.25")}function l(t){o.Xl.clearRect(0,0,o.JQ.width,o.JQ.height);var e=[];for(var n in r.Ks){var a=document.querySelector("svg#vector_fabric g#"+n);document.querySelector("svg#vector_fabric g#hidden_pen").appendChild(a),a.removeAttributeNS(null,"opacity"),o.l9[n].hidden=!0,e.push(n)}(0,i.b6)([],e)}},10:(t,e,n)=>{n.d(e,{D7:()=>u,EO:()=>f,Ib:()=>b,JS:()=>v,Ks:()=>O,Ot:()=>r,Tt:()=>M,U6:()=>S,Ue:()=>X,WI:()=>y,ZM:()=>l,a1:()=>g,b6:()=>k,e:()=>m,eP:()=>o,h1:()=>x,i6:()=>E,pE:()=>p,pO:()=>s,to:()=>h,w0:()=>c,x8:()=>w,xJ:()=>i,zW:()=>a,zi:()=>d});var i=0,o=!1,r=0,a=0,c=0,l=0,h=0,s=0,u=0,f=0,p=[],d=[],y=[],b=0,v=4,m=0,g=-.7,w="#000000",x="fc-default-black-white",E=Math.min(Math.log(v)/Math.log(Math.pow(10,.88)),.7),M={a:"",b:"",c:""},O={},S=15,X="#888888";function k(t){function e(t){return document.querySelector('.tools_container button[m="'.concat(t,'"] span'))}i=t;for(var n=0;n<3;n++)e(n).classList.remove("filled");e(t).classList.add("filled")}},760:(t,e,n)=>{n.d(e,{DY:()=>r,NT:()=>a,i0:()=>c});var i=n(10),o=n(483);function r(t){var e=t.touches[0],n={x:e.clientX-i.D7,y:e.clientY-i.EO};i.Ot=n.x,i.zW=n.y}function a(t){var e=t.touches[0],n={x:e.clientX-i.D7,y:e.clientY-i.EO};i.w0=n.x,i.ZM=n.y,o.qX.setAttribute("transform","translate(".concat(i.to+i.w0-i.Ot," ").concat(i.pO+i.ZM-i.zW,")"))}function c(t){i.to+=i.w0-i.Ot,i.pO+=i.ZM-i.zW,o.qX.setAttribute("transform","translate(".concat(i.to," ").concat(i.pO,")"))}},857:(t,e,n)=>{n.d(e,{Bu:()=>f,J9:()=>d,_r:()=>p});var i=n(285),o=n(494),r=n(388),a=n(442),c=n(483),l=n(10),h=n(547),s=n(578);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t){var e=t.touches[0];l.pE=[],l.zi=[],l.WI=[],l.Ib=e.identifier,e.force?(l.e=.5,l.a1=-.2):(l.e=.1,l.a1=.2),l.pE.push({x:e.clientX-l.D7,y:e.clientY-l.EO,force:e.force||0,time_stamp:(new Date).getTime(),angle:0}),l.zi.push({x:e.clientX-l.D7,y:e.clientY-l.EO}),l.WI.push({x:e.clientX-l.D7,y:e.clientY-l.EO});var n=l.pE[l.pE.length-1];c.Xl.beginPath(),c.Xl.arc(n.x*c.bA,n.y*c.bA,.5*l.JS*c.bA,0,2*Math.PI),c.Xl.fillStyle=l.x8,c.Xl.fill(),c.Xl.closePath();try{console.log(s.tz),console.log(s.tz[l.h1]),console.log(s.tz[l.h1].obj)}catch(t){console.log(t)}}function p(t){var e=[];for(var n in t.touches)t.touches.hasOwnProperty(n)&&"object"===u(t.touches[n])&&e.push(t.touches[n]);var r=e.filter((function(t){return t.identifier===l.Ib}))[0];if(r){var a,s=l.pE[l.pE.length-1]||{x:r.clientX-l.D7,y:r.clientY-l.EO,force:r.force||0,time_stamp:(new Date).getTime(),angle:0},f=l.pE[l.pE.length-2]||s,p=f.x,d=f.y,y=s.x,b=s.y;a=y-p==0?b>d?Math.PI/2:b<d?-Math.PI/2:0:Math.atan2(b-d,y-p),l.pE.push({x:r.clientX-l.D7,y:r.clientY-l.EO,force:r.force||0,time_stamp:(new Date).getTime(),angle:a});var v=Math.sqrt(Math.pow(s.x-f.x,2)+Math.pow(s.y-f.y,2))/(s.time_stamp-f.time_stamp),m=Math.min(Math.max(l.JS*Math.pow(s.force,.4)*(l.e/(l.e+l.a1))*.5+l.JS*Math.max(.3,Math.log(v)/Math.log(1.8))*(l.a1/(l.e+l.a1))*.5,0),.7*l.JS)||0,g=(0,i.I)(r.clientX-l.D7,r.clientY-l.EO,m,a-Math.PI/2),w=(0,i.I)(r.clientX-l.D7,r.clientY-l.EO,m,a+Math.PI/2);l.zi.push({x:g.x,y:g.y}),l.WI.push({x:w.x,y:w.y}),l.pE.length>=2&&(c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height),(0,h.M)(c.Xl,(0,o.oT)(l.pE,c.bA),l.x8),(0,h.M)(c.Xl,(0,o.oT)((0,o.Sz)(l.zi,l.i6),c.bA),l.x8),(0,h.M)(c.Xl,(0,o.oT)((0,o.Sz)(l.WI,l.i6),c.bA),l.x8)),(0,c.xg)()}}function d(t){var e=[];for(var n in t.changedTouches)t.changedTouches.hasOwnProperty(n)&&"object"===u(t.changedTouches[n])&&e.push(t.changedTouches[n]);var i=e.filter((function(t){return t.identifier===l.Ib}))[0];if(i){if(l.pE.length>=2){l.pE[l.pE.length-1];l.pE.push({x:i.clientX-l.D7,y:i.clientY-l.EO,force:i.force||0,time_stamp:(new Date).getTime(),angle:l.pE[l.pE.length-1].angle}),l.zi.push({x:i.clientX-l.D7,y:i.clientY-l.EO}),l.WI.push({x:i.clientX-l.D7,y:i.clientY-l.EO}),l.pE=l.pE.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),l.zi=l.zi.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),l.WI=l.WI.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height),(0,h.M)(c.Xl,(0,o.oT)(l.pE,c.bA),l.x8),(0,h.M)(c.Xl,(0,o.oT)((0,o.Sz)(l.zi,l.i6),c.bA),l.x8),(0,h.M)(c.Xl,(0,o.oT)((0,o.Sz)(l.WI,l.i6),c.bA),l.x8),(0,c.xg)();var s=(0,r.m)();(0,r.Yw)(l.Tt.a,l.x8,s),(0,r.Yw)(l.Tt.b,l.x8,s),(0,r.Yw)(l.Tt.c,l.x8,s);var f=(0,o.s3)(l.Tt.a,3),p=(0,o.s3)(l.Tt.b,3),d=(0,o.s3)(l.Tt.c,3);(0,c.ui)(f.concat(p).concat(d),s),(0,a.b6)([s],[])}else{var y=l.pE[l.pE.length-1];s=(0,r.m)();(0,r.s5)(y.x,y.y,.5*l.JS,l.x8,s),(0,c.ui)([y],s),(0,a.b6)([s],[])}c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height)}}}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,i),r.exports}i.m=e,t=[],i.O=(e,n,o,r)=>{if(!n){var a=1/0;for(s=0;s<t.length;s++){for(var[n,o,r]=t[s],c=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every((t=>i.O[t](n[l])))?n.splice(l--,1):(c=!1,r<a&&(a=r));if(c){t.splice(s--,1);var h=o();void 0!==h&&(e=h)}}return e}r=r||0;for(var s=t.length;s>0&&t[s-1][2]>r;s--)t[s]=t[s-1];t[s]=[n,o,r]},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={624:0,897:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var o,r,[a,c,l]=n,h=0;if(a.some((e=>0!==t[e]))){for(o in c)i.o(c,o)&&(i.m[o]=c[o]);if(l)var s=l(i)}for(e&&e(n);h<a.length;h++)r=a[h],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(s)},n=self.webpackChunkfabric=self.webpackChunkfabric||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=i.O(void 0,[555,483,493,667,401,429,743,897],(()=>i(26)));return o=(o=i.O(o)).default})()));
//# sourceMappingURL=main-ef7d455c.2d1c7da2cfe89a19aaee.min.js.map