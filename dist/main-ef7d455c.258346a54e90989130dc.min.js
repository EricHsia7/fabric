!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("fabric",[],e):"object"==typeof exports?exports.fabric=e():t.fabric=e()}(self,(()=>(()=>{"use strict";var t,e={949:(t,e,n)=>{n.d(e,{K9:()=>u,XY:()=>s,Yz:()=>h});var r={37:1,38:1,39:1,40:1},i=!1,o=!!i&&{passive:!1},a="onwheel"in document.createElement("div")?"wheel":"mousewheel";function c(t){t.preventDefault()}function l(t){if(r[t.keyCode])return c(t),!1}function h(){try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){i=!0}}))}catch(t){}o=!!i&&{passive:!1}}function s(){window.addEventListener("DOMMouseScroll",c,!1),window.addEventListener(a,c,o),window.addEventListener("touchmove",c,o),window.addEventListener("keydown",l,!1)}function u(){window.removeEventListener("DOMMouseScroll",c,!1),window.removeEventListener(a,c,o),window.removeEventListener("touchmove",c,o),window.removeEventListener("keydown",l,!1)}},578:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:String(e)}n.d(e,{Vf:()=>f,W5:()=>p,Yy:()=>h,p:()=>u,t6:()=>s,tz:()=>c});var a=n(429).v4,c={},l=n(365),h=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&"number"==typeof n&&"number"==typeof r&&(e=Math.max(Math.min(255,Math.floor(e)),0),n=Math.max(Math.min(255,Math.floor(n)),0),r=Math.max(Math.min(255,Math.floor(r)),0),this.light={type:"rgb",r:e,g:n,b:r},this.dark={type:"rgb",r:e,g:n,b:r},this.id=a(),this.time=(new Date).getTime(),this.type="FabricColor")}var e,n,r;return e=t,(n=[{key:"toHEX",value:function(){function t(t){var e=t.toString(16);return String(1==e.length?"0"+e:e).toUpperCase()}function e(e,n,r){return"#"+t(e)+t(n)+t(r)}var n="light",r=function(){return!(!window.matchMedia||!window.matchMedia("(prefers-color-scheme: dark)").matches)};return r()&&(n="dark"),{type:"hex",light:{type:"hex",hex:e(this.light.r,this.light.g,this.light.b)},dark:{type:"hex",hex:e(this.dark.r,this.dark.g,this.dark.b)},current:{type:"hex",hex:e(this[n].r,this[n].g,this[n].b)},color_scheme:r,id:this.id}}},{key:"toCSS",value:function(){var t=this.toHEX();return{type:"css",light:{declaration:"--fc-".concat(this.id,": ").concat(t.light.hex,";")},dark:{declaration:"--fc-".concat(this.id,": ").concat(t.dark.hex,";")},application:"var(--fc-".concat(this.id,")"),id:this.id}}},{key:"save",value:function(t){var e="fc-".concat(this.id),n={type:this.type,id:this.id,light:this.light,dark:this.dark,time:this.time};t&&l.setItem(e,JSON.stringify(n)),n.obj=this,n.toHEX=this.toHEX(),n.toCSS=this.toCSS(),c[e]=n}},{key:"setColor",value:function(t,e,n,r,i,o){this.light={type:"rgb",r:t,g:e,b:n},this.dark={type:"rgb",r,g:i,b:o}}},{key:"setID",value:function(t){this.id=t}},{key:"setTime",value:function(t){this.time=t}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(){var t,e,n,r,i,o,a,c,l;r=255,i=255,o=255,a="default-black-white",c=0,(l=new h(t=0,e=0,n=0)).setColor(t,e,n,r,i,o),l.setID(a),l.setTime(c),l.save(!1)}function u(){l.keys().then((function(t){(t=t.filter((function(t){return String(t).indexOf("fc-")>-1}))).forEach((function(t){l.getItem(t).then((function(t){var e=JSON.parse(String(t)),n=new h(0,0,0);n.setColor(e.light.r,e.light.g,e.light.b,e.dark.r,e.dark.g,e.dark.b),n.setID(e.id),n.setTime(e.time),n.save(!1)}))}))})).catch((function(t){}))}function f(t){pen_color=c["fc-".concat(t)]}function p(){var t=function(){var t=[];for(var e in c)t.push(c[e]);return t.sort((function(t,e){return t.time-e.time})),t}(),e=[],n=[];t.forEach((function(t){e.push(t.obj.toCSS().light.declaration),n.push(t.obj.toCSS().dark.declaration)})),document.querySelector("head style#fabric_color").innerHTML=":root {".concat(e.join(""),"}@media (prefers-color-scheme: dark) {").concat(n.join(""),"}")}},533:(t,e,n)=>{n.d(e,{C_:()=>a,jN:()=>l,wP:()=>c});var r=n(442),i=n(483),o=n(10);function a(t){o.Ks={}}function c(t){var e=t.touches[0],n={x:e.clientX-o.D7-o.to,y:e.clientY-o.EO-o.pO};for(var r in i.Xl.clearRect(0,0,i.JQ.width,i.JQ.height),i.Xl.lineWidth=1.2*i.bA,i.Xl.strokeStyle=o.Ue,i.Xl.beginPath(),i.Xl.arc((n.x+o.D7+o.to)*i.bA,(n.y+o.EO+o.pO)*i.bA,(o.U6+5)*i.bA,0,2*Math.PI),i.Xl.stroke(),o.Ks=Object.assign(o.Ks,function(t,e){var n=[],r={};for(var a in i.l9){var c=i.l9[a];c&&(!0!==c.hidden&&c.x1-5-o.U6<=t&&t<=c.x2+5+o.U6&&c.y1-5-o.U6<=e&&e<=c.y2+5+o.U6&&n.push(c))}for(var l=n.length,h=0;h<l;h++){var s=n[h],u=s.points.sort((function(n,r){return Math.sqrt(Math.pow(n.x-t,2)+Math.pow(n.y-e,2))-Math.sqrt(Math.pow(r.x-t,2)+Math.pow(r.y-e,2))}));Math.sqrt(Math.pow(u[0].x-t,2)+Math.pow(u[0].y-e,2))<10+o.U6&&(r[s.id]=!0)}return r}(n.x,n.y)),o.Ks)document.querySelector("svg#vector_fabric g#"+r).setAttributeNS(null,"opacity","0.25")}function l(t){i.Xl.clearRect(0,0,i.JQ.width,i.JQ.height);var e=[];for(var n in o.Ks){var a=document.querySelector("svg#vector_fabric g#"+n);document.querySelector("svg#vector_fabric g#hidden_pen").appendChild(a),a.removeAttributeNS(null,"opacity"),i.l9[n].hidden=!0,e.push(n)}(0,r.b6)([],e)}},10:(t,e,n)=>{n.d(e,{D7:()=>u,EO:()=>f,Ib:()=>b,JS:()=>v,Ks:()=>S,Ot:()=>o,Tt:()=>E,U6:()=>M,Ue:()=>O,WI:()=>y,ZM:()=>l,a1:()=>g,b6:()=>X,e:()=>m,eP:()=>i,i6:()=>w,pE:()=>p,pO:()=>s,to:()=>h,w0:()=>c,x8:()=>x,xJ:()=>r,zW:()=>a,zi:()=>d});var r=0,i=!1,o=0,a=0,c=0,l=0,h=0,s=0,u=0,f=0,p=[],d=[],y=[],b=0,v=4,m=0,g=-.7,x={},w=Math.min(Math.log(v)/Math.log(Math.pow(10,.88)),.7),E={a:"",b:"",c:""},S={},M=15,O="#888888";function X(t){function e(t){return document.querySelector('.tools_container button[m="'.concat(t,'"] span'))}r=t;for(var n=0;n<3;n++)e(n).classList.remove("filled");e(t).classList.add("filled")}},760:(t,e,n)=>{n.d(e,{DY:()=>o,NT:()=>a,i0:()=>c});var r=n(10),i=n(483);function o(t){var e=t.touches[0],n={x:e.clientX-r.D7,y:e.clientY-r.EO};r.Ot=n.x,r.zW=n.y}function a(t){var e=t.touches[0],n={x:e.clientX-r.D7,y:e.clientY-r.EO};r.w0=n.x,r.ZM=n.y,i.qX.setAttribute("transform","translate(".concat(r.to+r.w0-r.Ot," ").concat(r.pO+r.ZM-r.zW,")"))}function c(t){r.to+=r.w0-r.Ot,r.pO+=r.ZM-r.zW,i.qX.setAttribute("transform","translate(".concat(r.to," ").concat(r.pO,")"))}},857:(t,e,n)=>{n.d(e,{Bu:()=>u,J9:()=>p,_r:()=>f});var r=n(285),i=n(494),o=n(388),a=n(442),c=n(483),l=n(10),h=n(547);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t){var e=t.touches[0];l.pE=[],l.zi=[],l.WI=[],l.Ib=e.identifier,e.force?(l.e=.5,l.a1=-.2):(l.e=.1,l.a1=.2),l.pE.push({x:e.clientX-l.D7,y:e.clientY-l.EO,force:e.force||0,time_stamp:(new Date).getTime(),angle:0}),l.zi.push({x:e.clientX-l.D7,y:e.clientY-l.EO}),l.WI.push({x:e.clientX-l.D7,y:e.clientY-l.EO});var n=l.pE[l.pE.length-1];c.Xl.beginPath(),c.Xl.arc(n.x*c.bA,n.y*c.bA,.5*l.JS*c.bA,0,2*Math.PI),c.Xl.fillStyle=l.x8.toHEX.current.hex,c.Xl.fill(),c.Xl.closePath()}function f(t){var e=[];for(var n in t.touches)t.touches.hasOwnProperty(n)&&"object"===s(t.touches[n])&&e.push(t.touches[n]);var o=e.filter((function(t){return t.identifier===l.Ib}))[0];if(o){var a,u=l.pE[l.pE.length-1]||{x:o.clientX-l.D7,y:o.clientY-l.EO,force:o.force||0,time_stamp:(new Date).getTime(),angle:0},f=l.pE[l.pE.length-2]||u,p=f.x,d=f.y,y=u.x,b=u.y;a=y-p==0?b>d?Math.PI/2:b<d?-Math.PI/2:0:Math.atan2(b-d,y-p),l.pE.push({x:o.clientX-l.D7,y:o.clientY-l.EO,force:o.force||0,time_stamp:(new Date).getTime(),angle:a});var v=Math.sqrt(Math.pow(u.x-f.x,2)+Math.pow(u.y-f.y,2))/(u.time_stamp-f.time_stamp),m=Math.min(Math.max(l.JS*Math.pow(u.force,.4)*(l.e/(l.e+l.a1))*.5+l.JS*Math.max(.3,Math.log(v)/Math.log(1.8))*(l.a1/(l.e+l.a1))*.5,0),.7*l.JS)||0,g=(0,r.I)(o.clientX-l.D7,o.clientY-l.EO,m,a-Math.PI/2),x=(0,r.I)(o.clientX-l.D7,o.clientY-l.EO,m,a+Math.PI/2);l.zi.push({x:g.x,y:g.y}),l.WI.push({x:x.x,y:x.y}),l.pE.length>=2&&(c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height),(0,h.M)(c.Xl,(0,i.oT)(l.pE,c.bA),l.x8.toHEX.current.hex),(0,h.M)(c.Xl,(0,i.oT)((0,i.Sz)(l.zi,l.i6),c.bA),l.x8.toHEX.current.hex),(0,h.M)(c.Xl,(0,i.oT)((0,i.Sz)(l.WI,l.i6),c.bA),l.x8.toHEX.current.hex)),(0,c.xg)()}}function p(t){var e=[];for(var n in t.changedTouches)t.changedTouches.hasOwnProperty(n)&&"object"===s(t.changedTouches[n])&&e.push(t.changedTouches[n]);var r=e.filter((function(t){return t.identifier===l.Ib}))[0];if(r){if(l.pE.length>=2){l.pE[l.pE.length-1];l.pE.push({x:r.clientX-l.D7,y:r.clientY-l.EO,force:r.force||0,time_stamp:(new Date).getTime(),angle:l.pE[l.pE.length-1].angle}),l.zi.push({x:r.clientX-l.D7,y:r.clientY-l.EO}),l.WI.push({x:r.clientX-l.D7,y:r.clientY-l.EO}),l.pE=l.pE.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),l.zi=l.zi.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),l.WI=l.WI.map((function(t){return Object.assign(t,{x:t.x-l.to,y:t.y-l.pO})})),c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height),(0,h.M)(c.Xl,(0,i.oT)(l.pE,c.bA),l.x8.toHEX.current.hex),(0,h.M)(c.Xl,(0,i.oT)((0,i.Sz)(l.zi,l.i6),c.bA),l.x8.toHEX.current.hex),(0,h.M)(c.Xl,(0,i.oT)((0,i.Sz)(l.WI,l.i6),c.bA),l.x8.toHEX.current.hex),(0,c.xg)();var u=(0,o.m)();(0,o.Yw)(l.Tt.a,l.x8.toCSS.application,u),(0,o.Yw)(l.Tt.b,l.x8.toCSS.application,u),(0,o.Yw)(l.Tt.c,l.x8.toCSS.application,u);var f=(0,i.s3)(l.Tt.a,3),p=(0,i.s3)(l.Tt.b,3),d=(0,i.s3)(l.Tt.c,3);(0,c.ui)(f.concat(p).concat(d),u),(0,a.b6)([u],[])}else{var y=l.pE[l.pE.length-1];u=(0,o.m)();(0,o.s5)(y.x,y.y,.5*l.JS,l.x8,u),(0,c.ui)([y],u),(0,a.b6)([u],[])}c.Xl.clearRect(0,0,c.JQ.width,c.JQ.height)}}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,r),o.exports}r.m=e,t=[],r.O=(e,n,i,o)=>{if(!n){var a=1/0;for(s=0;s<t.length;s++){for(var[n,i,o]=t[s],c=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(c=!1,o<a&&(a=o));if(c){t.splice(s--,1);var h=i();void 0!==h&&(e=h)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[n,i,o]},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={624:0,897:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,c,l]=n,h=0;if(a.some((e=>0!==t[e]))){for(i in c)r.o(c,i)&&(r.m[i]=c[i]);if(l)var s=l(r)}for(e&&e(n);h<a.length;h++)o=a[h],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(s)},n=self.webpackChunkfabric=self.webpackChunkfabric||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=r.O(void 0,[555,483,493,667,401,429,743,897],(()=>r(26)));return i=(i=r.O(i)).default})()));
//# sourceMappingURL=main-ef7d455c.258346a54e90989130dc.min.js.map